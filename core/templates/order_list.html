{% extends "index.html" %}
{% block title %}Your Orders{% endblock %}

{% block content %}
  <h1 class="mb-4">All Your Orders</h1>

  {% if orders %}
    <table class="table table-hover align-middle">
      <thead>
        <tr>
          <th>Order #</th>
          <th>Restaurant</th>
          <th>Date</th>
          <th>Status</th>
          <th class="text-end">Total</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %}
          <tr>
            <td>{{ order.id }}</td>
            <td>{{ order.restaurant.name }}</td>
            <td>{{ order.created_at|date:"M d, Y H:i" }}</td>
            <td>
              {% if order.status == 'Pending' %}
                <span class="badge bg-primary">Pending</span>
              {% elif order.status == 'Preparing' %}
                <span class="badge bg-warning text-dark">Preparing</span>
              {% elif order.status == 'OutForDelivery' %}
                <span class="badge bg-info text-dark">Out for Delivery</span>
              {% elif order.status == 'Delivered' %}
                <span class="badge bg-success">Delivered</span>
              {% elif order.status == 'Cancelled' %}
                <span class="badge bg-danger">Cancelled</span>
              {% else %}
                <span class="badge bg-secondary">{{ order.get_status_display }}</span>
              {% endif %}
            </td>
            <td class="text-end">â‚ª{{ order.total_price }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>You have no orders yet.</p>
    <a href="{% url 'core:home' %}" class="btn btn-link">Browse Restaurants</a>
  {% endif %}
{% endblock %}
